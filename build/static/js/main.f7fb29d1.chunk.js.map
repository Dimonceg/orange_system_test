{"version":3,"sources":["assets/svg/favorite.svg","components/Book/Book.styles.js","components/Book/Book.js","const.js","components/BookItem/BookItem.styles.js","components/BookItem/BookItem.js","components/BookList/BookList.styles.js","components/BookList/BookList.js","components/Loader/Loader.js","components/ErrorBoundary/ErrorBoundary.js","components/App/App.styles.js","components/App/App.js","index.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref3","fill","d","SvgFavorite","_ref","svgRef","title","titleId","props","xmlns","xmlnsXlink","x","y","viewBox","enableBackground","xmlSpace","ref","id","ForwardRef","Wrapper","styled","article","Title","h3","Subtitle","h5","Image","img","Info","p","FavoriteIcon","FavIcon","Favorite","div","isAdded","Book","book","volumeInfo","subtitle","imageLinks","addedBooks","JSON","parse","localStorage","getItem","some","favBook","useState","added","setAdded","onClick","newFavorites","filter","setItem","stringify","src","thumbnail","alt","dangerouslySetInnerHTML","__html","searchInfo","textSnippet","size","device","sm","md","lg","li","BookContent","Link","NoImage","BookItem","text","bookImage","to","List","ul","BookList","books","map","Loader","className","ErrorBoundary","state","hasError","setState","children","Component","Header","header","HeaderButton","SearcBar","SearchInput","input","App","getUserSearch","query","setBooks","search","setSearch","isLoading","setIsLoading","useEffect","fetchBooks","setTimeout","fetch","then","response","json","data","items","catch","error","console","clearTimeout","handleSearch","e","value","exact","path","render","type","onChange","placeholder","match","params","findBook","find","getBookFromFavorites","favBooks","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.f7fb29d1.chunk.js","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"metadata\", null, \" Svg Vector Icons : http://www.onlinewebfonts.com/icon \");\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", {\n  fill: \"currentColor\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M520.6,54.8l133.2,265c2.8,6.9,9.7,11.1,18,12.5l298.3,43c19.4,2.8,26.4,25,12.5,38.9L766.3,619.6c-5.6,5.5-8.3,12.5-6.9,19.4l51.3,291.4c2.8,18-16.7,33.3-33.3,23.6L510.9,816.6c-6.9-4.2-15.3-4.2-22.2,0L222.3,955.4c-16.7,8.3-37.5-5.5-33.3-23.6l51.3-291.4c1.4-6.9-1.4-15.3-6.9-19.4L16.9,412.8c-13.9-12.5-5.6-36.1,12.5-38.9l298.3-43c6.9-1.4,13.9-5.6,18-12.5L479,53.4C487.3,38.2,512.3,38.2,520.6,54.8z\"\n}));\n\nfunction SvgFavorite(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 1000 1000\",\n    enableBackground: \"new 0 0 1000 1000\",\n    xmlSpace: \"preserve\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgFavorite);\nexport default __webpack_public_path__ + \"static/media/favorite.a7079e46.svg\";\nexport { ForwardRef as ReactComponent };","import styled from 'styled-components';\r\nimport { ReactComponent as FavIcon } from '../../assets/svg/favorite.svg';\r\n\r\nexport const Wrapper = styled.article`\r\n  padding: 0 20px;\r\n`;\r\n\r\nexport const Title = styled.h3`\r\n  font-size: 20px;\r\n  margin-bottom: 20px;\r\n  display: flex;\r\n  align-items: center;\r\n  text-decoration: none;\r\n`;\r\n\r\nexport const Subtitle = styled.h5`\r\n  font-size: 12px;\r\n  margin-bottom: 20px;\r\n`;\r\n\r\nexport const Image = styled.img`\r\n  margin-bottom: 20px;\r\n`;\r\n\r\nexport const Info = styled.p`\r\n  margin: 0;\r\n  max-width: 50%;\r\n`;\r\n\r\nexport const FavoriteIcon = styled(FavIcon)`\r\n  width: 25px;\r\n  height: 25px;\r\n`;\r\n\r\nexport const Favorite = styled.div`\r\n  margin-left: 20px;\r\n  cursor: pointer;\r\n  ${FavoriteIcon} {\r\n    color: ${props => props.isAdded ? '#fda322' : \"gray\"}\r\n  }\r\n`;\r\n\r\n","import React, { useState } from 'react';\r\n\r\nimport { \r\n  Title,\r\n  Subtitle,\r\n  Image,\r\n  Info, \r\n  Wrapper,\r\n  Favorite,\r\n  FavoriteIcon\r\n} from './Book.styles';\r\n\r\n\r\nconst Book = ({ book }) => {\r\n  const { title, subtitle, imageLinks } = book?.volumeInfo;\r\n  const addedBooks = JSON.parse(localStorage.getItem('favoriteBooks')) ?? [];\r\n  const isAdded = addedBooks.some(favBook => favBook.id === book?.id);\r\n  const [added, setAdded] = useState(isAdded);\r\n  \r\n  const handleFavorites = () => {\r\n    const newFavorites = isAdded ? \r\n      addedBooks.filter(favBook => favBook.id !== book?.id) : \r\n      [...addedBooks, book];\r\n    localStorage.setItem('favoriteBooks', JSON.stringify(newFavorites));\r\n    setAdded(!isAdded)\r\n  }\r\n\r\n  return (\r\n    <Wrapper>  \r\n      <Title>\r\n        {title}\r\n        <Favorite isAdded={added} onClick={handleFavorites}>\r\n          <FavoriteIcon  />\r\n        </Favorite>\r\n      </Title>\r\n      <Subtitle>{subtitle}</Subtitle>\r\n      <Image src={imageLinks?.thumbnail} alt='book image' />\r\n      <Info dangerouslySetInnerHTML={{ __html: book?.searchInfo?.textSnippet }} />\r\n    </Wrapper>\r\n  )\r\n}\r\n\r\nexport default Book;","const size = {\r\n  sm: '300px',\r\n  md: '475px',\r\n  lg: '1000px'\r\n}\r\n\r\nexport const device = {\r\n  sm: `(min-width: ${size.sm})`,\r\n  md: `(min-width: ${size.md})`,\r\n  lg: `(min-width: ${size.lg})`,\r\n};","import styled from 'styled-components';\r\nimport { Link } from 'react-router-dom';\r\nimport { device } from '../../const';\r\n\r\nexport const Book = styled.li`\r\n  background: #dedede;\r\n  margin-left: 20px;\r\n  margin-bottom: 20px;\r\n  transition: opacity 1s;\r\n  @media ${device.sm} { \r\n    width: 100%;\r\n  }\r\n  @media ${device.md} { \r\n    width: calc(50% - 20px);\r\n  }\r\n  @media ${device.lg} { \r\n    width: calc(25% - 20px);\r\n  }\r\n`;\r\n  \r\nexport const BookContent = styled(Link)`\r\n  display: block;\r\n  text-decoration: none;\r\n  color: black;\r\n  padding: 20px;\r\n  \r\n`;\r\n\r\nexport const Title = styled.h5`\r\n  display: block;\r\n  text-align: center;\r\n  margin: 0 0 10px;\r\n  font-size: 16px;\r\n`;\r\n\r\nexport const Image = styled.img`\r\n  display: block;\r\n  margin: auto;\r\n  margin-bottom: 10px;\r\n`;\r\n\r\nexport const NoImage = styled.div`\r\n  height: 168px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n`;\r\n\r\nexport const Info = styled.article`\r\n  line-height: 1.5;\r\n  max-height: 200px;\r\n  overflow: hidden;\r\n`;\r\n\r\nexport const Subtitle = styled.div`\r\n  margin-bottom: 20px;\r\n  font-size: 12px;\r\n  text-align: center;\r\n`;","import React from 'react';\r\nimport {\r\n  Book,\r\n  Title,\r\n  Subtitle,\r\n  Image,\r\n  NoImage,\r\n  Info,\r\n  BookContent\r\n} from './BookItem.styles';\r\n\r\nconst BookItem = ({ id, img, title, subtitle, text }) => {\r\n  const bookImage = img ? <Image src={img} /> : <NoImage>image not found</NoImage>;\r\n  return (\r\n    <Book>\r\n      <BookContent to={`/book/${id}`}>\r\n        <Title>{title}</Title>\r\n        {bookImage}\r\n        <Subtitle>{subtitle}</Subtitle>\r\n        <Info dangerouslySetInnerHTML={{ __html: text }} />\r\n      </BookContent>\r\n    </Book>\r\n  )\r\n}\r\n\r\nexport default BookItem;","import styled from 'styled-components';\r\n\r\nexport const List = styled.ul`\r\n  padding: 0;\r\n  margin: 20px 0 0;\r\n  list-style: none;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  margin-left: -20px;\r\n`;","import React from 'react';\r\nimport BookItem from '../BookItem/BookItem';\r\nimport { List } from './BookList.styles';\r\n\r\nconst BookList = ({ books }) => {\r\n  const book = books?.map(({ id, volumeInfo, searchInfo }) => {\r\n    const { imageLinks, title, subtitle } = volumeInfo;\r\n    return (\r\n      <BookItem\r\n        key={id}\r\n        id={id}\r\n        title={title}\r\n        img={imageLinks?.thumbnail}\r\n        subtitle={subtitle}\r\n        text={searchInfo?.textSnippet}\r\n      />\r\n    )\r\n  });\r\n\r\n  return (\r\n    <List>\r\n      { book }\r\n    </List>\r\n  )\r\n};\r\n\r\nexport default BookList;","import React from 'react';\r\n\r\nimport './styles.css';\r\n\r\nconst Loader = () => <div className=\"loader\"></div>\r\n\r\nexport default Loader;","import React, { Component } from 'react';\r\n\r\nexport default class ErrorBoundary extends Component {\r\n\r\n  state = {\r\n    hasError: false\r\n  };\r\n\r\n  componentDidCatch() {\r\n    this.setState({\r\n      hasError: true\r\n    });\r\n  }\r\n\r\n  render() {\r\n\r\n    if (this.state.hasError) {\r\n      return <h1>Opps... Somithing went wrong!</h1>\r\n    }\r\n\r\n    return this.props.children;\r\n  }\r\n}\r\n","import styled from 'styled-components';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport const Wrapper = styled.div`\r\n  height: 100%;\r\n  color: black;\r\n`;\r\n\r\nexport const Header = styled.header`\r\n  padding: 20px;\r\n  background-color: #09f;\r\n  text-align: right;\r\n`;\r\n\r\nexport const HeaderButton = styled(Link)`\r\n  color: black;\r\n  text-decoration: none;\r\n  margin-left: 20px;\r\n`;\r\n\r\nexport const SearcBar = styled.div`\r\n  text-align: center;\r\n  padding: 20px;\r\n  background: #3cf;\r\n  margin-bottom: 20px;\r\n`;\r\n\r\nexport const SearchInput = styled.input`\r\n  border-radius: 4px;\r\n  padding: 10px;\r\n`;","import React, { useEffect, useState } from 'react';\nimport Book from '../Book/Book';\nimport BookList from '../BookList/BookList';\nimport Loader from '../Loader';\nimport ErrorBoundary from '../ErrorBoundary';\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\nimport { \n  Wrapper,\n  Header, \n  SearcBar, \n  HeaderButton, \n  SearchInput, \n} from './App.styles';\n\nconst defaultQuery = 'javascript';\n\nconst getBookFromFavorites = (id) => {\n  const books = JSON.parse(localStorage.getItem('favoriteBooks')) ?? [];\n  return books.find(book => book.id === id);\n}\n\nconst App = () => {\n  const getUserSearch = localStorage.getItem('userSearch');\n  const query = getUserSearch?.length ? getUserSearch : defaultQuery;\n  const [books, setBooks] = useState([]);\n  const [search, setSearch] = useState(getUserSearch ?? '');\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    const fetchBooks = setTimeout(() => {\n      fetch(`https://www.googleapis.com/books/v1/volumes?q=${query}`)\n        .then(response => response.json())\n        .then(data => {\n          setBooks(data.items);\n          setIsLoading(false);\n        }).catch((error) => {\n          console.error(error);\n        });\n    }, 250);\n    return () => clearTimeout(fetchBooks);\n  }, [search, query]);\n\n  const handleSearch = (e) => {\n    const { value } = e.target;\n    localStorage.setItem('userSearch', value);\n    setSearch(value);\n  };\n\n  const renderBookList = () => (\n    <>\n      <SearcBar>\n        <SearchInput \n          type='text' \n          value={search} \n          onChange={handleSearch}\n          placeholder='search books'\n        />\n      </SearcBar>\n      {books?.length ? <BookList books={books} /> : 'books not found'}\n    </>\n  );\n\n  const renderBook = ({ match }) => {\n    const id = match.params.id;\n    const findBook = books?.find(book => book.id === id);\n    const book = findBook ?? getBookFromFavorites(id); \n    return <Book book={book} />;\n  };\n\n  const renderFavorites = () => {\n    const favBooks = JSON.parse(localStorage.getItem('favoriteBooks')) ?? [];\n    return favBooks.length ? <BookList books={favBooks} /> : 'no favorite books';\n  }\n\n  return (\n    <Wrapper>\n      <ErrorBoundary>\n        <Router>\n          <Header>\n            <HeaderButton to='/'>Search</HeaderButton>\n            <HeaderButton to='/favorite'>Favorites</HeaderButton>\n          </Header>\n          {isLoading ? <Loader /> : (\n            <>\n              <Route exact path=\"/\" render={renderBookList} />\n              <Route path=\"/book/:id\" render={renderBook} />\n              <Route path=\"/favorite\" render={renderFavorites} />\n            </>\n          )}\n        </Router>\n      </ErrorBoundary>\n    </Wrapper>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}